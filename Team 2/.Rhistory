## clean all output from previous runs of scripts
## there is one final we create in the main directory (the processed dataset),
## but the rest of the output is all in the 'results' directory
unlink("data", recursive = TRUE) # where data is stored after clean
source('~/Documents/MPH Brown /PHP 1560 /in class/text-mining-review-all-join-this-team/Team 2/makefile.R', echo=TRUE)
source('~/Documents/MPH Brown /PHP 1560 /in class/text-mining-review-all-join-this-team/Team 2/sadia/makefile_SS.R', echo=TRUE)
source('~/Documents/MPH Brown /PHP 1560 /in class/text-mining-review-all-join-this-team/Team 2/sadia/05_graph_SS.R', echo=TRUE)
knitr::include_graphics("pic_SS/alice.png")
load("data_SS/data_bing.Rda")
library(dplyr)
positive <- data_bing %>% filter (gutenberg_id == 751, chapter >0) %>% count(word, sentiment) %>% arrange(desc(n)) %>% filter(sentiment == "positive") %>% top_n(10)
negative <- data_bing %>% filter (gutenberg_id == 751, chapter >0) %>% count(word, sentiment) %>% arrange(desc(n)) %>% filter(sentiment == "negative") %>% top_n(10)
table1 <- as.data.frame(positive)
names(table1) <-c("Word", "sentiment", "Frequency")
knitr::kable(table1)
table2 <- as.data.frame(negative)
names(table2) <-c("Word","sentiment", "Frequency")
knitr::kable(table2)
alice_bing_total<-data_bing %>% filter (gutenberg_id == 751, chapter >0) %>% group_by(chapter, sentiment) %>% mutate(sentiment_words=n()) %>% distinct(chapter, .keep_all=TRUE) %>% select("chapter", "sentiment", "sentiment_words") # creating a column for total positive and negative words
alice_bing_percent<- alice_bing_total %>% #creating a data frame that contains the percent of positive and negative sentiments over the total sentiments
group_by(chapter) %>%
mutate(total_words = sum(sentiment_words),
percent = sentiment_words/total_words)
#What percent of positive words each chapters have?
per_pos<-alice_bing_percent %>%
filter(sentiment == "positive") %>%
arrange(desc(percent)) %>%
filter(percent > 0.59)
table3 <- as.data.frame(per_pos)
names(table3) <-c("Chapter", "sentiment", "Sentiment_words", "Total_words", "percent")
knitr::kable(table3)
per_neg <- alice_bing_percent %>%
filter(sentiment == "negative") %>%
arrange(desc(percent)) %>%
filter(percent > 0.44)
table4 <- as.data.frame(per_neg)
names(table4) <-c("Chapter", "sentiment", "Sentiment_words", "Total_words", "percent")
knitr::kable(table4)
